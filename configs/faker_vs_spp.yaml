# Faker Attack vs SPP Defense
# SPP (Similarity of Partial Parameters) is specifically designed to counter Faker attacks
# by randomly evaluating only partial parameters (J/2) instead of all parameters
experiment_name: "faker_attack_vs_spp_defense"
random_seed: 42

dataset:
  type: "cifar10"
  data_dir: "./data"
  num_classes: 10
  partition_type: "non_iid_dirichlet"
  alpha: 0.5

model:
  type: "lenet"
  num_classes: 10

federated_learning:
  num_rounds: 25
  num_clients: 20
  client_participation_rate: 0.7
  learning_rate: 0.02
  local_epochs: 3
  batch_size: 64

server:
  data_size: 200  # Clean server data for reference model

# Faker Attack - manipulates similarity metrics
attack:
  type: "faker"
  num_malicious_clients: 3
  params:
    similarity_type: "cosine"  # Can be "cosine", "l2_ratio", or "euclidean"
    target_similarity: 0.95
    max_iterations: 100
    learning_rate: 0.01

# SPP Defense - evaluates only partial parameters
defense:
  type: "spp"
  params:
    selection_ratio: 0.5  # J/2 - evaluate 50% of parameters
    cosine_threshold: 0.0
    use_relu: true
    server_epochs: 5
    server_lr: 0.01